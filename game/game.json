{
  "gameName": "testGame",
  "debugMode": true,
  "inventory": [
    {"name": "sword", "count": 1},
    {"name": "sandwich", "count": 5}
  ],
  "actions": [
    {"name": "villagesSaved", "count": 0},
    {"name": "dragonsKilled", "count": 0}
  ],
  "scenes": [
    {
      "name": "start",
      "text": "SUPER AMAZING MEDIEVAL ADVENTURE!",
      "style": "main-menu",
      "choices": [
        {"text": "Start","nextScene": "road"}
      ]
    },
    {
      "name": "road",
      "text": "[if (act.villagesSaved==10||(act.dragonsKilled>0&&(inv.sword<=5||inv.magicalshield>=5)&&(inv.smallstone>5&&inv.smallstone<10)))]<p>You are a [s1]knight[/s].</p>[/if]",
      "text-1": "<p>You have saved [act.villagesSaved] village[if act.villagesSaved!=1]s[/if]. [if inv.sword>0]You have a [s2]sword[/s]. [/if][if inv.sword<1]You don't have a [s2]sword[/s]. [/if]You walk on a road towards a [s1]town[/s].</p>",
      "text-2": "<p>[var game.settings.soundVolume]What do you do?</p>",
      "style": "road",
      "choices": [
        {
          "text": "Keep walking",
          "setAction": "introductionSeen[1]",
          "nextScene": "road"
        },
        {
          "text": "Wander offroad",
          "setAction": "introductionSeen[1]",
          "nextScene": "dragon"
        },
        {
          "text": "Throw your sword and a sandwich away",
          "itemRequirement": "sword[1]|sandwich[1]",
          "setAction": "introductionSeen[1]",
          "removeItem": "sword[1]|sandwich[1]",
          "alwaysShow": true,
          "nextScene": "road"
        },
        {
          "text": "Search for a magical shield (10% success chance)",
          "setAction": "introductionSeen[1]",
          "addItem": "magicalshield[1,0.1,Magical Shield]",
          "alwaysShow": true,
          "nextScene": "road"
        },
        {
          "text": "Pick up a small stone",
          "setAction": "introductionSeen[1]",
          "addItem": "smallstone[1,Small Stone]",
          "nextScene": "road"
        },
        {
          "text": "Save a [s1]village[/s] [if (act.villagesSaved<1)](You haven't saved any!!!)[/if]",
          "addAction": "villagesSaved[1]"
        },
        {
          "text": "Unsave a village",
          "removeAction": "villagesSaved[1]"
        },
        {
          "text": "Pick up a random sword lying around (50% success chance)",
          "setAction": "introductionSeen[1]",
          "addItem": "sword[1,0.5]"
        }
      ]
    },
    {
      "name": "dragon",
      "text": "<p>You wander across a [s1]dragon[/s]. What do you do?</p>",
      "choices": [
        {
          "text": "Fight it! (or, randomly, run away!!)",
          "itemRequirement": "sword[1]",
          "nextScene": "hitDragon[0.5]|missDragon[0.3]|road[0.2]"
        },
        {
          "text": "Run away!",
          "nextScene": "road"
        }
      ]
    },
    {
      "name": "hitDragon",
      "text": "You hit the dragon! The dragon is dead!",
      "addAction": "dragonsKilled[1]",
      "choices": [
        {
          "text": "Return to the road",
          "nextScene": "road"
        }
      ]
    },
    {
      "name": "missDragon",
      "text": "You missed the hit! The dragon charred you!",
      "playSound": "scream",
      "choices": [
        {
          "text": "Continue",
          "nextScene": "start"
        }
      ]
    }
  ],
  "settings": {
    "debugMode": true,
    "soundVolume": 0.5,
    "defaultClickSound": "click",
    "alwaysShowDisabledChoices": false
  },
  "sounds": [
    {"name": "click", "file": "click.wav"},
    {"name": "scream", "file": "wilhelm.wav"}
  ]
}
